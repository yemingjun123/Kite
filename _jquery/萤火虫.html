<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>萤火虫</title>
	</head>
	<style type="text/css">
		* {margin: 0; padding: 0;}
		.bg {background: url(img/bg.jpg); width: 100%; height: 100%; position: fixed;}
		img {width: 18px; height: 18px; position: absolute;}
	</style>
	<body>
		<div class="bg"></div>
		
		<!--JQuery-->
		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
		<script type="text/javascript">
			function Snow () {
				var self = this;
				this.init = function() {
					this.body = $("<img src='img/star.jpg' />");
					this.body.css(this.randomPos());
					$(document.body).append(this.body);
					return this;
				}
				
				this.randomPos = function() {
					return {
						left: Math.round(Math.random()*$(window).width()),
						top 	: Math.round(Math.random()*$(window).height())
					};
				}
				
				this.move = function() {
					this.body.animate(this.randomPos(), Math.round(Math.random()*2000) + 5000, function(){
						self.move();
					});
				}
			}
			
			$(function(){
				var count = Math.round(Math.random()*40) + 40;
				console.log(count);
				for (var i=0; i<count; i++) {
					new Snow().init().move();
				}
			})
		</script>
	</body>
</html>
